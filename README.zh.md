
# 以太之网编年史

[中文](./README.zh.md) | [English](./README.md)

**《以太之网编年史》** 是一款互动叙事RPG。在这个被魔法所笼罩的现代世界中，你将穿梭于不同的权能序列，与神秘的伙伴建立羁绊，并在生成式AI（如谷歌的Gemini和OpenAI的模型）的驱动下，一章一章地塑造自己的命运。

该项目本身是一个名为 **ArcLoom** 的、功能强大且可扩展的引擎，专用于创造动态的、由AI驱动的叙事体验。

## ✨ 主要特性

*   **动态世界生成**：基于类型、时代和叙事风格等高层级概念，从零开始创建独特而丰富的游戏世界。AI会生成完整的世界观、力量体系、关键地点、组织派系和主线任务。
*   **多后端AI支持**：无缝切换不同的AI服务提供商。项目原生支持Google Gemini，并兼容任何符合OpenAI API规范的接口。
*   **AI驱动的叙事**：整个故事由AI实时生成，它会根据你的选择动态发展，确保每次游戏体验都是独一-无二的。
*   **AI图像生成**：通过AI生成的图像，将关键场景、核心角色和同伴栩栩如生地呈现在你眼前，极大地增强了沉浸感。
*   **深度状态管理**：拥有一个健壮的系统来管理游戏状态，包括玩家属性、物品栏、同伴亲密度和世界事件。
*   **存档与读档**：
    *   **快速存/读档**：即时保存和恢复你的游戏进度。
    *   **导入/导出**：通过将整个世界和故事导出为JSON文件，来分享你的游戏状态或备份进度，之后可以随时导入以继续游戏。
    *   **导入世界观**：通过导入一个预定义的世界数据文件，从一个特定的世界观设定开始游戏。

## 🚀 快速开始

请遵循以下说明，在你的本地机器上运行一个副本，用于开发和测试。

### 环境要求

*   [Node.js](https://nodejs.org/) (推荐使用 20.x 或更高版本)
*   [npm](https://www.npmjs.com/) 或其他包管理器，如 pnpm、yarn。

### 安装

1.  **克隆仓库：**
    ```sh
    git clone <你的仓库地址>
    cd <仓库文件夹>
    ```

2.  **安装依赖：**
    ```sh
    npm install
    ```

3.  **运行开发服务器：**
    ```sh
    npm run dev
    ```
    应用将在 `http://localhost:3000` 上可用。

## ⚙️ 配置

要开始游戏，你必须至少连接一个用于生成文本的AI后端（“叙述者”）。

1.  **启动应用**。在标题界面，点击 **“连接”**。
2.  在“管理AI后端”界面，点击 **“+ Google”** 或 **“+ OpenAI”**。
3.  **填写详细信息**：
    *   **Custom Name**: 一个便于你识别的自定义名称（例如，“我的Gemini Pro”）。
    *   **API Key**: 你的服务提供商的API密钥。
    *   **Generation Type**:
        *   `文本叙述者`：用于生成故事文本的模型（例如，Gemini 1.5 Pro, GPT-4o）。
        *   `图片回想者`：用于生成图像的模型（例如，Imagen, DALL-E 3）。
    *   **Endpoint URL (仅OpenAI)**: 如果使用官方OpenAI API，请留空；如果使用代理或兼容的本地模型，请提供自定义URL。
4.  点击 **“Verify & Fetch Models”**。如果你的密钥和端点正确，将出现一个可用模型的列表。
5.  从下拉列表中选择一个模型。
6.  点击 **“Save”**。

现在你可以返回标题界面并开始新游戏了！

## 🎮 如何游玩

1.  **配置后端**：确保你已至少配置了一个“叙述者”后端。
2.  **开始新游戏**：在标题界面，点击 **“重新锚定”**。
3.  **自定义你的世界**：在“锚定时空”界面，选择你偏好的故事类型、时代背景、主角性别和情感风格，并为叙事和图像生成选择AI后端。
4.  **生成世界**：点击 **“开始锚定”**。AI将根据你的选择创建一个独一无二的世界。
5.  **预览并开始**：你将看到生成的世界概览，包括主线任务、力量体系和关键角色。如果满意，点击 **“介入时空”** 开始你的冒险。
6.  **互动**：阅读AI呈现的故事，并通过做出选择来推动情节发展。你也可以在输入框中输入自定义行动。
